(function(a){a.fn.editableText=function(e){input=a("<input type='text' id='dest_input' placeholder='Type location name' required=''>");button=a("<button type='submit' value='Submit' id='dest_submit'>Submit</button>");edit=a(e).html();divClone=a("div").clone();pencil=a("span").html();value=a("input:text").val();a.get("http://ipinfo.io",function(c){a("a").text(c.city)},"jsonp");a("span").show();a("a").click(function(c){a("a").after(input,button);a(input).show();a(button).show();a("a").hide();a("input").autocomplete({source:function(b,
d){a.getJSON("http://gd.geobytes.com/AutoCompleteCity?callback=?&template=<geobytes%20city>&q="+b.term,function(a){d(a)})},minLength:3,select:function(a,d){var c=d.item;jQuery("input").val(c.value);return!1},open:function(){a(this).removeClass("ui-corner-all").addClass("ui-corner-top")},close:function(){a(this).removeClass("ui-corner-top").addClass("ui-corner-all")}});a("input").autocomplete("option","delay",100);a("input").focus();a("span").slideToggle();a("#dest_submit").click(function(){var b=
a("input:text").val();a(this).value=b;0!==b.length?(a(input).hide(),a(button).hide(),a("span").show(),a("a").show().text(b),a(b).show(),a("#valid").hide()):0===b.length&&a(input).css("border","solid 1px red")})})}})(jQuery);
